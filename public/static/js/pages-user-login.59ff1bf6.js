(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-login"],{"0533":function(t,n,e){"use strict";var i=e("8094"),o=e.n(i);o.a},1078:function(t,n,e){"use strict";e.r(n);var i=e("805e"),o=e("4a8e");for(var a in o)"default"!==a&&function(t){e.d(n,t,function(){return o[t]})}(a);e("b2b5");var r=e("2877"),s=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"fbedfa5e",null);n["default"]=s.exports},"1ab8":function(t,n,e){"use strict";var i=e("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("f499")),a="USERS_KEY",r=function(){var t="";return t=uni.getStorageSync(a),t||(t="[]"),JSON.parse(t)},s=function(t){var n=r();n.push({account:t.account,password:t.password}),uni.setStorageSync(a,(0,o.default)(n))},c={getUsers:r,addUser:s};n.default=c},"2ef2":function(t,n,e){var i=e("d5c4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=e("4f06").default;o("074de365",i,!0,{sourceMap:!1,shadowMode:!1})},4432:function(t,n,e){"use strict";e.r(n);var i=e("9e0d"),o=e("b72d");for(var a in o)"default"!==a&&function(t){e.d(n,t,function(){return o[t]})}(a);e("0533");var r=e("2877"),s=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"15734284",null);n["default"]=s.exports},"4a8e":function(t,n,e){"use strict";e.r(n);var i=e("96af"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,function(){return i[t]})}(a);n["default"]=o.a},"805e":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-rich-text",{staticClass:"iconfont",style:{color:t.color,"font-size":t.fontSize},attrs:{nodes:t.type},on:{click:function(n){n=t.$handleEvent(n),t.onClick()}}})},o=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return o})},8094:function(t,n,e){var i=e("ded6");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=e("4f06").default;o("3677ec62",i,!0,{sourceMap:!1,shadowMode:!1})},"96af":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("c5f6");var i={props:{type:String,color:String,size:{type:[Number,String],default:24}},computed:{fontSize:function(){var t=Number(this.size);return t=isNaN(t)?24:t,"".concat(t,"px")}},methods:{onClick:function(){this.$emit("click")}}};n.default=i},"9e0d":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"todo"},[e("v-uni-view",{staticClass:"lo_hd"},[e("Icon",{attrs:{type:"&#xe74d;",size:"50",color:"#00355f"}})],1),e("v-uni-view",{staticClass:"inputs"},[e("v-uni-text",{staticClass:"lo_text"},[t._v("ID号:")]),e("v-uni-input",{staticClass:"input_end",attrs:{"placeholder-style":"color:#00355f",placeholder:"请输入账号"},model:{value:t.account,callback:function(n){t.account=n},expression:"account"}})],1),e("v-uni-view",{staticClass:"inputs"},[e("v-uni-text",{staticClass:"lo_text"},[t._v("密码:")]),e("v-uni-input",{staticClass:"input_end",attrs:{"placeholder-style":"color:#00355f",type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}})],1),e("v-uni-view",{staticClass:"lo_btn"},[e("v-uni-button",{staticClass:"login",on:{click:function(n){n=t.$handleEvent(n),t.bindLogin(n)}}},[t._v("登录")])],1),e("v-uni-view",{staticClass:"action-row"},[e("v-uni-navigator",{attrs:{url:"../reg/reg"}},[t._v("注册账号")]),e("v-uni-navigator",{attrs:{url:"../pwd/pwd"}},[t._v("忘记密码")])],1),t.hasProvider?e("v-uni-view",{staticClass:"oauth-row",style:{top:t.positionTop+"px"}},t._l(t.providerList,function(n){return e("v-uni-view",{key:n.value,staticClass:"oauth-image"},[e("v-uni-image",{staticClass:"imgs",attrs:{src:n.image},on:{click:function(e){e=t.$handleEvent(e),t.oauth(n.value)}}})],1)}),1):t._e()],1)},o=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return o})},b2b5:function(t,n,e){"use strict";var i=e("2ef2"),o=e.n(i);o.a},b72d:function(t,n,e){"use strict";e.r(n);var i=e("cabd"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,function(){return i[t]})}(a);n["default"]=o.a},cabd:function(t,n,e){"use strict";var i=e("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("f499")),a=i(e("cebc")),r=i(e("1078")),s=i(e("1ab8")),c=e("2f62"),u={components:{Icon:r.default},data:function(){return{providerList:[],hasProvider:!0,account:"",password:"",positionTop:0}},computed:(0,c.mapState)(["forcedLogin"]),methods:(0,a.default)({},(0,c.mapMutations)(["login","addCity"]),{initProvider:function(){var t=this,n=["weixin","qq","sinaweibo"];uni.getProvider({service:"oauth",success:function(e){if(e.provider&&e.provider.length){for(var i=0;i<e.provider.length;i++)~n.indexOf(e.provider[i])&&t.providerList.push({value:e.provider[i],image:"/static/img/"+e.provider[i]+".png"});t.hasProvider=!0}},fail:function(t){console.error("获取服务供应商失败："+(0,o.default)(t))}})},initPosition:function(){this.positionTop=uni.getSystemInfoSync().windowHeight-100},bindLogin:function(){if(this.account.length<5)uni.showToast({icon:"none",title:"账号最短为 5 个字符"});else if(this.password.length<6)uni.showToast({icon:"none",title:"密码最短为 6 个字符"});else{var t={account:this.account,password:this.password},n=s.default.getUsers().some(function(n){return t.account===n.account&&t.password===n.password});n?this.toMain(this.account):uni.showToast({icon:"none",title:"用户账号或密码不正确"})}},oauth:function(t){var n=this;uni.login({provider:t,success:function(e){uni.getUserInfo({provider:t,success:function(t){n.toMain(t.userInfo.nickName),"undefined"!=typeof t.userInfo.status?n.addCity(t.userInfo.status.annotations[0].place.title):n.addCity(t.userInfo.city)}})},fail:function(t){console.error("授权登录失败："+(0,o.default)(t))}})},toMain:function(t){this.login(t),this.forcedLogin?uni.reLaunch({url:"../main/main"}):uni.navigateBack()}}),onReady:function(){this.initPosition(),this.initProvider()}};n.default=u},d5c4:function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,'@font-face{font-family:iconfont;\n  /* project id 1278045 */src:url(https://at.alicdn.com/t/font_1278045_6ni49wgrevn.eot);src:url(https://at.alicdn.com/t/font_1278045_6ni49wgrevn.eot#iefix) format("embedded-opentype"),url(https://at.alicdn.com/t/font_1278045_6ni49wgrevn.woff2) format("woff2"),url(https://at.alicdn.com/t/font_1278045_6ni49wgrevn.woff) format("woff"),url(https://at.alicdn.com/t/font_1278045_6ni49wgrevn.ttf) format("truetype"),url(https://at.alicdn.com/t/font_1278045_6ni49wgrevn.svg#iconfont) format("svg")}.iconfont[data-v-fbedfa5e]{font-family:iconfont!important;font-size:16px;font-style:normal;display:inline-block;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}',""])},ded6:function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,".iconfont[data-v-15734284]{color:#00355f}.imgs[data-v-15734284]{width:60%;height:60%}.todo[data-v-15734284]{width:100%;background:-webkit-gradient(linear,left top,left bottom,from(#b97d9f),to(#477497));background:-o-linear-gradient(#b97d9f,#477497);background:linear-gradient(#b97d9f,#477497)}.todo .lo_hd[data-v-15734284]{text-align:center;margin-top:%?200?%}.todo .login[data-v-15734284]{background:#a990cc;color:#00355f}.todo .inputs[data-v-15734284]{margin:%?30?% %?60?%;margin-top:%?50?%;border-bottom:%?1?% solid #00355f;color:#00355f;padding-bottom:%?20?%}.todo .lo_btn[data-v-15734284]{margin:%?30?% %?60?%;margin-top:%?70?%}.todo .lo_text[data-v-15734284]{font-size:%?30?%;display:inline-block;line-height:%?80?%}.todo .input_end[data-v-15734284]{display:inline-block;line-height:%?80?%;height:%?80?%;vertical-align:top;padding-left:%?20?%}.oauth-row[data-v-15734284]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:0;left:0;width:100%}.oauth-image[data-v-15734284]{width:%?100?%;height:%?100?%;border-radius:%?100?%;margin:0 %?40?%;border:1px solid #00355f;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;background-color:#477497}.action-row[data-v-15734284]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 %?40?%;color:#00355f;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}",""])}}]);